<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="../node_modules/webcomponents.js/webcomponents-loader.js"></script>
        <script src="../node_modules/web-component-tester/browser.js"></script>

        <script src="../src/magnon-element.js"></script>
    </head>
    <body>
        <script>
            /* globals MagnonElement */
            describe("MagnonElement", () => {
                const Element = class extends MagnonElement {
                    static get name() {
                        return "element-name";
                    }
                };
                Element.init();

                it("throws error when initialized (is abstract)", () => {
                    expect(() => {
                        new MagnonElement(); // eslint-disable-line
                    }).to.throw(Error);
                });

                it("doesn't require a template to function", () => {
                    expect(() => {
                        new Element(); // eslint-disable-line
                    }).to.not.throw(Error);
                });

                it("has a shadow dom if a template was found", () => {
                    const template = document.createElement("template");
                    template.id = "element-name";
                    document.body.appendChild(template);
                    const element = new Element();
                    expect(element.shadowRoot).to.be.an.instanceof(ShadowRoot);
                });
            });
        </script>
    </body>
</html>
